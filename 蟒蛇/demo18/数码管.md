### 数码管

#### 一.初始化数据

用字典把每个值都初始化一下

```python
nums={"0":[0,1,1,1,1,1,1],"1":[0,1,0,0,0,0,1],"2":[1,0,1,1,0,1,1],"3":[1,1,1,0,0,1,1],
      "4":[1,1,0,0,1,0,1],"5":[1,1,1,0,1,1,0],"6":[1,1,1,1,1,1,0],"7":[0,1,0,0,0,1,1],
      "8":[1,1,1,1,1,1,1],"9":[1,1,1,0,1,1,1],"-":[1,0,0,0,0,0,0]}
week=["星期一","星期二","星期三","星期四","星期五","星期六","星期天"]
```

因为是画数码管，就总共有七画，画为1，不画为0

星期则用汉字表示



#### 二.初始化画笔

```python
t1=t.Pen()
t1.hideturtle()
t1.pensize(10)
t2=t.Pen()
t2.hideturtle()
t2.pensize(10)
```

创建两只画笔，分别初始化



#### 三.画数字

要定义一个函数来画数字的数码管

```python
def num(a,b):
    if b:
        t=t1
    else:
        t=t2
```

首先进来的话，判断一下b的值，因为有两个位置需要打印数码管，一个是前面的年月日需要，一个是后面的时间需要，由于年月日一天才需要改变一次，就不需要刷新的那么频繁，就只需要刷新后面的时间，这时用clear的话就需要只清除刷新时间的画笔，所以需要两只画笔，t1用来打印前面的年月日和星期，t2用来刷新后面的时间。



```python
    for i in range(7):
        t.penup()
        t.forward(7)
        t.pendown() if a[i] else t.penup()
        t.forward(40)
        t.penup()
        t.forward(7)
        if i!=3:
            t.right(90)
```

这时就是画数码管了，数码管总共有7笔，需要用for循环7次，但是从第四笔到第五笔的那一笔并不需要转方向，也就是不需要t.right(90)，还有就是，为了打印出数码管的效果，每根数码管两端都需要空白一小段，所以在每次循环的前后都需要就一个

```python
t.penup()
t.forward(7)
```



当上面一步完成之后，turtle已经回到了水平位置，但是它的方向是指向270的，后面需要left(90)或者setheading(0)，然后再把画笔的位置向右移20个单位长度，这是为了每个数字之间有一些距离，美观一些

```python
    t.setheading(0)
    t.penup()
    t.forward(20)
    t.pendown()
```



#### 四.画冒号

要定义一个函数画冒号

```python
def maohao():
    t2.penup()
    t2.forward(50)
    #向右走50，去到数码管的最右边一列
    t2.left(90)
    t2.forward(15)
    #然后再左转，向上去15个单位长度
    t2.pendown()
    t2.forward(5)
    #再把那个点画出来
    t2.left(180)
    t2.penup()
    t2.forward(35)
    #再转向，去向下面对称的位置
    t2.pendown()
    t2.forward(5)
    #再画一个点
    t2.penup()
    t2.backward(20)
    #再回到水平位置
    t2.setheading(0)
    t2.forward(20)
    t2.pendown()
    #再向右走20个单位长度，保持距离
```



#### 五.打印画笔1

这里把它也定义为了一个函数

```python
def day():
    #光速画完
    t.tracer(0)
    # 打印年月日
    #去到我指定的位置开始画日期
    t1.penup()
    t1.goto(-320, 200)
    t1.pendown()
    #取年月日的值化为str类型存到tm里面
    tm = str(dt.datetime.today())[0:10]
    #用for循环依次把每个数字和“-”取出来，并用num函数把他们画出来
    for i in (tm):
        num(nums[i],1)
    # 打印周
    #取出星期-1的值
    wk = dt.datetime.today().weekday()
    #去到我指定的打印星期的位置
    t1.penup()
    t1.goto(-70, 0)
    t1.pendown()
    #再用write写出来
    t1.write(week[wk], font=("华文琥珀", 50, "normal"))
    #更新画布
    t.update()
```



#### 六.打印画笔2

又定义一个函数tim()来执行画笔2

```python
def tim():
    #首先设置一个flag=0，作用后面就知道了
    flag = 0
    #取出日期的值化为str类型放在time里面
    time = str(dt.datetime.today())[11:19]
    #光速画完
    t.tracer(0)
    #清除t2的内容，用来更新时间
    t2.clear()
    #去到我指定的位置去画时间
    t2.penup()
    t2.goto(-250, -150)
    t2.pendown()
    #用for循环来画里面的每个数字和符号
    for i in (time):
        #如果取到“0”，flag的值增加1
        if i=="0":
            flag+=1
        #取到冒号则用画冒号的函数，否则用画数字的函数
        if i != ":":
            num(nums[i],0)
        else:
            maohao()
    #如果flag等于6了，说明有6个0，00:00:00这说明什么，说明来到了新的一天
    if flag==6:
        #既然来到了新的一天，就把t1的日期清掉，重新画日期
        t1.clear()
        day()
    #更新画布
    t.update()
```



#### 七.调用

```python
day()
# 更新时间
while(1):
    tim()
```

先再while循环外调用day()，打印日期，在外面的原因是没必要在里面，只需要打印一次就够了，然后再要不断的更新时间，对于tim()就应该用一个while(1)的死循环，这样就可以不断更新时间了。



#### 八.效果

![image-20220306105329137](https://gitee.com/buguai_lxw/key/raw/master/202203061053243.png)

这就是运行效果了，还是比较好看的